<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>53 Man Roster Tournament</title>
  
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Google Fonts for a cleaner look -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ '/css/style.css' | url }}">
  <link rel="icon" type="image/png" href="{{ '/img/hwplogo.png' | url }}">
</head>
<body>

  <!-- ===== Home/Landing View ===== -->
  <div id="home-view">
    <div class="hero-content text-center sunshine">
      <div class="logo-frame-container">
        <img src="{{ '/img/hwplogo.png' | url }}" alt="Hops with Pop Logo" class="hero-logo">
      </div>
      <h1 class="display-3 fw-bold">53 Man Roster Tournament</h1>
      <p class="lead">Guess the 2025 LA Chargers Roster</p>
      <button id="start-button" class="btn btn-lg btn-outline-light mt-3">
        Start Picking
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/></svg>
      </button>
    </div>
  </div>

  <!-- ===== Selection View ===== -->
  <div id="selection-view" class="d-none">
    <header class="sticky-top shadow-sm" id="selection-header">
      <div class="container-fluid">
        <div class="d-flex justify-content-between align-items-center p-2">
            <div class="d-flex align-items-center">
                <input type="text" id="nameInput" class="form-control form-control-sm me-2" placeholder="HwP Handle or Email" style="width: 150px;">
            </div>
            <div class="counts-display text-center">
                <span class="badge bg-roster me-2">Roster: <span id="rosterCount">0</span>/53</span>
                <span class="badge bg-squad">P. Squad: <span id="squadCount">0</span>/16</span>
            </div>
            <button id="submitBtn" class="btn btn-primary btn-sm" disabled>Submit</button>
        </div>
        <nav id="position-nav" class="nav nav-pills flex-nowrap"></nav>
      </div>
    </header>

    <main class="container-fluid mt-4" id="player-selection-area">
      <section id="rules-section">
        <div class="text-center mb-5">
          <h2 class="rules-main-title">How It Works</h2>
          <p class="lead text-muted">Welcome to the Hops with Pop 53-Man Roster Tournament!</p>
        </div>

        <div class="row g-4 g-lg-5">
          <!-- Left Column: The Rules -->
          <div class="col-lg-7">
            <h4 class="rules-subtitle">How to Play</h4>
            <div class="rules-list">
              <div class="rule-item">
                <div class="rule-number">1</div>
                <div class="rule-text">Enter your HwP handle or email in the top-left corner.</div>
              </div>
              <div class="rule-item">
                <div class="rule-number">2</div>
                <div class="rule-text">Click a player to select them for the <strong>53-Man Roster</strong>.</div>
              </div>
              <div class="rule-item">
                <div class="rule-number">3</div>
                <div class="rule-text">After 53 picks, subsequent selections will go to the <strong>16-Player Practice Squad</strong>.</div>
              </div>
              <div class="rule-item">
                <div class="rule-number">4</div>
                <div class="rule-text">Click a selected player again to remove them from either squad.</div>
              </div>
              <div class="rule-item">
                <div class="rule-number">5</div>
                <div class="rule-text">The "Submit" button activates when your squads are full and you've entered your name.</div>
              </div>
              <div class="rule-item">
                <div class="rule-number">6</div>
                <div class="rule-text">Be sure to include email or HwP handle so we can contact the winner!</div>
              </div>
            </div>
          </div>

          <!-- Right Column: Key Info Cards -->
          <div class="col-lg-5">
            <!-- The Prize Card -->
            <div class="info-card prize-card mb-4">
              <div class="info-card-icon prize-icon">üèÜ</div>
              <div class="info-card-body">
                <h5 class="info-card-title">The Grand Prize</h5>
                <p class="info-card-text">The winner receives the <strong>FIRST. EVER.</strong> piece of </p>
                <p><i>Hops with Pop</i>  merch!</p>
                <img src="{{ '/img/hwpshirt.jpg' | url }}" alt="Hops with Pop Prize Merch Shirt" class="prize-shirt-img mt-3">
              </div>
            </div>
            
            <!-- Deadline Card -->
            <div class="info-card mb-4">
              <div class="info-card-icon">üóìÔ∏è</div>
              <div class="info-card-body">
                <h5 class="info-card-title">Submission Deadline</h5>
                <p class="info-card-text"><strong>August 25th, 2025</strong><br>at California Midnight (3 AM EST)</p>
              </div>
            </div>

            <!-- Tiebreaker Card -->
            <div class="info-card">
              <div class="info-card-icon">‚öñÔ∏è</div>
              <div class="info-card-body">
                <h5 class="info-card-title">Tiebreakers</h5>
                <p class="info-card-text">1st: Practice squad accuracy.<br>2nd: Earlier submission time.</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
  
  <!-- ===== Stats View ===== -->
  <section id="stats-view" class="container mt-5 d-none">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-primary">Pick Analysis</h2>
        <button id="backBtn" class="btn btn-secondary">Back to Picks</button>
      </div>
      <div id="stats-content">
        <!-- Stats tables will be injected here -->
      </div>
  </section>

  <script>
    window.firebaseConfig = {
      apiKey: "{{ env.FIREBASE_API_KEY }}",
      authDomain: "{{ env.FIREBASE_AUTH_DOMAIN }}",
      projectId: "{{ env.FIREBASE_PROJECT_ID }}",
      storageBucket: "{{ env.FIREBASE_STORAGE_BUCKET }}",
      messagingSenderId: "{{ env.FIREBASE_MESSAGING_SENDER_ID }}",
      appId: "{{ env.FIREBASE_APP_ID }}",
      measurementId: "{{ env.FIREBASE_MEASUREMENT_ID }}"
    };
  </script>

  <!-- Firebase & Bootstrap JS -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Custom JS -->
  <script src="{{ '/js/app.js' | url }}"></script>
</body>
</html>